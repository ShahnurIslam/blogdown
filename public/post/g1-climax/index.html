<!DOCTYPE html>
<html lang="en-uk">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Shan Islam  | G1 Climax</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.52" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="G1 Climax" />
<meta property="og:description" content="Here&rsquo;s a post that is slightly different to the other posts that I&rsquo;ve done so far. Rather than having a step by step tutorial on how to do something. The below allows me to work on my python skills and explain a few things as I go along.
People who work in Data Science tend to work in programming languages R or Python. I&rsquo;ve been learning both languages over the last two years and at the moment I&rsquo;m trying to get better at my Python." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/g1-climax/" /><meta property="article:published_time" content="2017-10-23T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2017-10-23T00:00:00&#43;00:00"/>

<meta itemprop="name" content="G1 Climax">
<meta itemprop="description" content="Here&rsquo;s a post that is slightly different to the other posts that I&rsquo;ve done so far. Rather than having a step by step tutorial on how to do something. The below allows me to work on my python skills and explain a few things as I go along.
People who work in Data Science tend to work in programming languages R or Python. I&rsquo;ve been learning both languages over the last two years and at the moment I&rsquo;m trying to get better at my Python.">


<meta itemprop="datePublished" content="2017-10-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-10-23T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2057">



<meta itemprop="keywords" content="data science,python," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="G1 Climax"/>
<meta name="twitter:description" content="Here&rsquo;s a post that is slightly different to the other posts that I&rsquo;ve done so far. Rather than having a step by step tutorial on how to do something. The below allows me to work on my python skills and explain a few things as I go along.
People who work in Data Science tend to work in programming languages R or Python. I&rsquo;ve been learning both languages over the last two years and at the moment I&rsquo;m trying to get better at my Python."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      Shan Islam
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/page/" title="Pages page">
              Pages
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title="Posts page">
              Posts
            </a>
          </li>
          
        </ul>
      
      



<a href="https://twitter.com/_ShanIslam" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/shahnurislam" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>






    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">G1 Climax</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2017-10-23T00:00:00Z">October 23, 2017</time>
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Here&rsquo;s a post that is slightly different to the other posts that I&rsquo;ve done so far. Rather than having a step by step tutorial
on how to do something. The below allows me to work on my python skills and explain a few things as I go along.</p>

<p>People who work in Data Science tend to work in programming languages R or Python. I&rsquo;ve been learning both languages over the last two years and at the moment I&rsquo;m trying to get better at my Python. One of things people say is to get better at data science is to work on data that you have an interest in.</p>

<p>One of my main passions in life has been wrestling (which my wife says is lame).  I&rsquo;ve watched wrestling for the last 19 years which when you write down is actually quite scary. In this case, I decided do some analysis on Japanese Wrestling! In particular, the G1 Climax tournament.</p>

<p><img src="/img/G1271.jpg" alt="G127" /></p>

<p>The G1 Climax is an annual Japanese wrestling tournament that&rsquo;s held every summer over 20 days. Rather than a simple knockout tournament it&rsquo;s a league made up of two blocks (named A block &amp; B block) each consisting of 20 wrestlers. The winner of each block then face off and the winner goes to headline wrestle kingdom in January.</p>

<p>I made the below in Jupyter Notebook and converted it to a markdown file to post on the site. Let&rsquo;s begin!</p>

<p>Let&rsquo;s start off with importing all the relevant libraries which will be updated as we go</p>

<pre><code class="language-python">import pandas as pd #standard package to work with dataframes
import numpy as np
import itertools # We use this to do some permutations to work out potential matches
import matplotlib.pyplot as plt
import seaborn as sns
import math
import decimal
import datetime
from sklearn.linear_model import LinearRegression
from sklearn.metrics import r2_score
sns.set_style('white')
</code></pre>

<p>Here are some potential things to look at:
<em>Who on average has highest match rating?
Does Dave Meltzer&rsquo;s rating correlate with match time or any other variables?</em></p>

<p>Let&rsquo;s start off by reading the csv file I quickly made up with the wrestler&rsquo;s names and which block they&rsquo;re in.</p>

<pre><code class="language-python">df = pd.read_csv(&quot;G1 Competitors.csv&quot;) #Using pandas read_csv
</code></pre>

<p>We use the data frame property .info() to give us some quick info on the data frame</p>

<pre><code class="language-python">df.info() #use the dataframe propetry .info() to give us information on the dataframe
</code></pre>

<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10 entries, 0 to 9
Data columns (total 2 columns):
A Block    10 non-null object
B Block    10 non-null object
dtypes: object(2)
memory usage: 240.0+ bytes
</code></pre>

<p>The information above tells us that the data frame only contains 10 entries with no null objects which is good to see. We can just type in <strong>df</strong> into the console and see what the whole data frame looks like. Of course if we had more rows we wouldn&rsquo;t be able to do this and would use <em>df.head()</em></p>

<pre><code class="language-python">df
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">A Block</th>
<th align="left">B Block</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">Hiroshi Tanahashi</td>
<td align="left">Kazuchika Okada</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">Togi Makabe</td>
<td align="left">Toru Yano</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">Tomohiro Ishii</td>
<td align="left">Satoshi Kojima</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">Hirooki Goto</td>
<td align="left">Michael Elgin</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">YOSHI-HASHI</td>
<td align="left">Juice Robinson</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">Bad Luck Fale</td>
<td align="left">Tama Tonga</td>
</tr>

<tr>
<td align="left">6</td>
<td align="left">Yuji Nagata</td>
<td align="left">SANADA</td>
</tr>

<tr>
<td align="left">7</td>
<td align="left">Zack Sabre Jr.</td>
<td align="left">EVIL</td>
</tr>

<tr>
<td align="left">8</td>
<td align="left">Kota Ibushi</td>
<td align="left">Minoru Suzuki</td>
</tr>

<tr>
<td align="left">9</td>
<td align="left">Tetsuya Naito</td>
<td align="left">Kenny Omega</td>
</tr>
</tbody>
</table>

<p>I noticed that some of the wrestler&rsquo;s name have capitals while others don&rsquo;t. Let&rsquo;s convert all the names to upper case.
We use the data frame method applymap which applies a function to every cell in a data frame and rather than writing a whole function we will just create one inside in the applymap also known as an anonymous function.</p>

<pre><code class="language-python">df = df.applymap(lambda x: x.upper()) 
df # Let's print the dataframe to see if that's worked
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">A Block</th>
<th align="left">B Block</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">KAZUCHIKA OKADA</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">TOGI MAKABE</td>
<td align="left">TORU YANO</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">TOMOHIRO ISHII</td>
<td align="left">SATOSHI KOJIMA</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">HIROOKI GOTO</td>
<td align="left">MICHAEL ELGIN</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">YOSHI-HASHI</td>
<td align="left">JUICE ROBINSON</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">BAD LUCK FALE</td>
<td align="left">TAMA TONGA</td>
</tr>

<tr>
<td align="left">6</td>
<td align="left">YUJI NAGATA</td>
<td align="left">SANADA</td>
</tr>

<tr>
<td align="left">7</td>
<td align="left">ZACK SABRE JR.</td>
<td align="left">EVIL</td>
</tr>

<tr>
<td align="left">8</td>
<td align="left">KOTA IBUSHI</td>
<td align="left">MINORU SUZUKI</td>
</tr>

<tr>
<td align="left">9</td>
<td align="left">TETSUYA NAITO</td>
<td align="left">KENNY OMEGA</td>
</tr>
</tbody>
</table>

<p>Let&rsquo;s now separate the wrestler from data frames <strong>df</strong> in two data frames called <strong>A_Block</strong> and <strong>B_Block</strong></p>

<pre><code class="language-python">A_Block = pd.DataFrame(df['A Block'])
A_Block.columns = ['Wrestler']
B_Block = pd.DataFrame(df['B Block'])
B_Block.columns = ['Wrestler']
</code></pre>

<p>Ok we&rsquo;ve now got two separate data frames called <em>A_Block</em> &amp; <em>B_Block</em>. Let&rsquo;s add the usual fields you&rsquo;d see in any sports league <strong>&lsquo;Matches&rsquo;,&lsquo;Wins&rsquo;,&lsquo;Losses&rsquo;,&lsquo;Draws&rsquo;</strong>.</p>

<p>I&rsquo;m also going to include <strong>&lsquo;Match Time&rsquo;</strong> as the total time a wrestler has competed. I also plan to add another column called <strong>&lsquo;DMR&rsquo;</strong>, which stands for Dave Meltzer Rating. Dave Meltzer is a 30 year wrestling journalist whose ratings of matches are out of five and is held in high standing in the wrestling community. By default, I&rsquo;ve set these to NaN</p>

<pre><code class="language-python">A_Block['Matches'] = np.NAN
A_Block['Wins'] = np.NAN
A_Block['Losses'] = np.NAN
A_Block['Draws'] = np.NAN
A_Block['Points'] = np.NAN
A_Block['Match_Time'] = np.NAN
A_Block['DMR'] = 0.00
B_Block['Matches'] = np.NAN
B_Block['Wins'] = np.NAN
B_Block['Losses'] = np.NAN
B_Block['Draws'] = np.NAN
B_Block['Points'] = np.NAN
B_Block['Match_Time'] = np.NAN
B_Block['DMR'] = 0.00
</code></pre>

<p>Lets use head to see if the tables has been set up correctly</p>

<pre><code class="language-python">A_Block.head(1)
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler</th>
<th align="left">Matches</th>
<th align="left">Wins</th>
<th align="left">Losses</th>
<th align="left">Draws</th>
<th align="left">Points</th>
<th align="left">Match_Time</th>
<th align="left">DMR</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">0.0</td>
</tr>
</tbody>
</table>

<p>Checking B Block</p>

<pre><code class="language-python">B_Block.head(1)#B block
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler</th>
<th align="left">Matches</th>
<th align="left">Wins</th>
<th align="left">Losses</th>
<th align="left">Draws</th>
<th align="left">Points</th>
<th align="left">Match_Time</th>
<th align="left">DMR</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">KAZUCHIKA OKADA</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">0.0</td>
</tr>
</tbody>
</table>

<p>We&rsquo;ve now created our results data frames. Let&rsquo;s create two more dataframes that records the result of each match. First of all how many potential matches are there per block? This is a form of permutations, well actually combinations as we don&rsquo;t take the order of the wrestlers into account. We can use the combinations formula(below) where my <strong><em>n=10</em></strong> &amp; <strong><em>r=2</em></strong></p>

<p><img src="/img/Combination_equation.gif" alt="Combination_equation" /></p>

<pre><code class="language-python">math.factorial(10)/(math.factorial(2)*math.factorial(10-2))
</code></pre>

<pre><code>45.0
</code></pre>

<p>This tells us there are a total of 45 possible matches for each block.</p>

<p>I was going to write a custom function to list all these possible matches but luckily the python community is so large someone has already done this for me! The function I&rsquo;m going to use is within the python library <strong>itertools</strong>. We will use the function <strong>combinations()</strong> as we&rsquo;re looking for all unique combinations. The combination function takes a series as a parameter so we can&rsquo;t simply pass in the data frame and we need to select the Wrestler column as a series.</p>

<p>Using the combination function, I&rsquo;ll create two new data frames called <strong>A_matches</strong> and <strong>B_matches</strong></p>

<pre><code class="language-python">A_matches = pd.DataFrame.from_records(list(itertools.combinations(A_Block['Wrestler'],2)), columns = ['Wrestler 1', 'Wrestler 2'])
B_matches = pd.DataFrame.from_records(list(itertools.combinations(B_Block['Wrestler'],2)), columns = ['Wrestler 1', 'Wrestler 2'])
</code></pre>

<p>Check that A_matches data frame has been set up correctly</p>

<pre><code class="language-python">A_matches.head()
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler 1</th>
<th align="left">Wrestler 2</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">TOGI MAKABE</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">TOMOHIRO ISHII</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">HIROOKI GOTO</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">YOSHI-HASHI</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">BAD LUCK FALE</td>
</tr>
</tbody>
</table>

<p>Ok we&rsquo;ve got all the potential matches for each block. Let&rsquo;s add a few more fields to these data frames. Let&rsquo;s add the fields <strong>Winner, Loser, Match_Time, Draw, DMR</strong>. We&rsquo;ve also added a match counter field labelled <strong>Matches</strong></p>

<pre><code class="language-python">
A_matches['Winner'] = np.NAN

B_matches['Winner'] = np.NAN

A_matches['Loser'] = np.NAN

B_matches['Loser'] = np.NAN

A_matches['Match'] = 1

B_matches['Match'] = 1

B_matches['Match_Time'] = np.NAN

A_matches['Match_Time'] = np.NAN

B_matches['Draw'] = False

A_matches['Draw'] = False

B_matches['DMR'] = 0.00

A_matches['DMR'] = 0.00

</code></pre>

<p>Again check the table has been updated</p>

<pre><code class="language-python">
A_matches.head(5)

</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler 1</th>
<th align="left">Wrestler 2</th>
<th align="left">Winner</th>
<th align="left">Loser</th>
<th align="left">Match</th>
<th align="left">Match_Time</th>
<th align="left">Draw</th>
<th align="left">DMR</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">TOGI MAKABE</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">1</td>
<td align="left">NaN</td>
<td align="left">False</td>
<td align="left">0.0</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">TOMOHIRO ISHII</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">1</td>
<td align="left">NaN</td>
<td align="left">False</td>
<td align="left">0.0</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">HIROOKI GOTO</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">1</td>
<td align="left">NaN</td>
<td align="left">False</td>
<td align="left">0.0</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">YOSHI-HASHI</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">1</td>
<td align="left">NaN</td>
<td align="left">False</td>
<td align="left">0.0</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">BAD LUCK FALE</td>
<td align="left">NaN</td>
<td align="left">NaN</td>
<td align="left">1</td>
<td align="left">NaN</td>
<td align="left">False</td>
<td align="left">0.0</td>
</tr>
</tbody>
</table>

<p>Ok we now have a table of the potential matches and all the additional fields. I decided to write two custom functions, one that updates the matches data frames with the results and the other to update the block table. I didn&rsquo;t want to type out the full names either as the spellings of Japanese names can be quite hard. So the function does a partial match and prints out the names it&rsquo;s matched as a check.</p>

<p>I didn&rsquo;t want to bombard this post with long bits of code so those functions and updates can be found here:</p>

<p><a href="https://github.com/ShahnurIslam/shahnurislam.github.io/blob/master/_posts/2017-10-23-G1_Climax_code.md">Code for Functions and update</a></p>

<p>Let&rsquo;s look at the results tables and see who came out on top!</p>

<pre><code class="language-python">A_Block
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler</th>
<th align="left">Matches</th>
<th align="left">Wins</th>
<th align="left">Losses</th>
<th align="left">Draws</th>
<th align="left">Points</th>
<th align="left">Match_Time</th>
<th align="left">DMR</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">TETSUYA NAITO</td>
<td align="left">9</td>
<td align="left">7</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">14</td>
<td align="left">0.0</td>
<td align="left">4.000000</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">HIROSHI TANAHASHI</td>
<td align="left">9</td>
<td align="left">6</td>
<td align="left">3</td>
<td align="left">0</td>
<td align="left">12</td>
<td align="left">0.0</td>
<td align="left">4.111111</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">BAD LUCK FALE</td>
<td align="left">9</td>
<td align="left">6</td>
<td align="left">3</td>
<td align="left">0</td>
<td align="left">12</td>
<td align="left">0.0</td>
<td align="left">3.166667</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">KOTA IBUSHI</td>
<td align="left">9</td>
<td align="left">5</td>
<td align="left">4</td>
<td align="left">0</td>
<td align="left">10</td>
<td align="left">0.0</td>
<td align="left">4.222222</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">ZACK SABRE JR.</td>
<td align="left">9</td>
<td align="left">5</td>
<td align="left">4</td>
<td align="left">0</td>
<td align="left">10</td>
<td align="left">0.0</td>
<td align="left">3.611111</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">HIROOKI GOTO</td>
<td align="left">9</td>
<td align="left">5</td>
<td align="left">4</td>
<td align="left">0</td>
<td align="left">10</td>
<td align="left">0.0</td>
<td align="left">3.694444</td>
</tr>

<tr>
<td align="left">6</td>
<td align="left">TOMOHIRO ISHII</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">4.250000</td>
</tr>

<tr>
<td align="left">7</td>
<td align="left">TOGI MAKABE</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">3.611111</td>
</tr>

<tr>
<td align="left">8</td>
<td align="left">YOSHI-HASHI</td>
<td align="left">9</td>
<td align="left">2</td>
<td align="left">7</td>
<td align="left">0</td>
<td align="left">4</td>
<td align="left">0.0</td>
<td align="left">3.638889</td>
</tr>

<tr>
<td align="left">9</td>
<td align="left">YUJI NAGATA</td>
<td align="left">9</td>
<td align="left">1</td>
<td align="left">8</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">0.0</td>
<td align="left">4.138889</td>
</tr>
</tbody>
</table>

<p>B Block..</p>

<pre><code class="language-python">B_Block
</code></pre>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Wrestler</th>
<th align="left">Matches</th>
<th align="left">Wins</th>
<th align="left">Losses</th>
<th align="left">Draws</th>
<th align="left">Points</th>
<th align="left">Match_Time</th>
<th align="left">DMR</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">0</td>
<td align="left">KENNY OMEGA</td>
<td align="left">9</td>
<td align="left">7</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">14</td>
<td align="left">0.0</td>
<td align="left">3.888889</td>
</tr>

<tr>
<td align="left">1</td>
<td align="left">KAZUCHIKA OKADA</td>
<td align="left">9</td>
<td align="left">6</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">13</td>
<td align="left">0.0</td>
<td align="left">4.250000</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left">EVIL</td>
<td align="left">9</td>
<td align="left">6</td>
<td align="left">3</td>
<td align="left">0</td>
<td align="left">12</td>
<td align="left">0.0</td>
<td align="left">3.444444</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left">MINORU SUZUKI</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">4</td>
<td align="left">1</td>
<td align="left">9</td>
<td align="left">0.0</td>
<td align="left">3.611111</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left">SANADA</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">3.666667</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">MICHAEL ELGIN</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">3.583333</td>
</tr>

<tr>
<td align="left">6</td>
<td align="left">JUICE ROBINSON</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">3.222222</td>
</tr>

<tr>
<td align="left">7</td>
<td align="left">TAMA TONGA</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">2.944444</td>
</tr>

<tr>
<td align="left">8</td>
<td align="left">TORU YANO</td>
<td align="left">9</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">0.0</td>
<td align="left">1.750000</td>
</tr>

<tr>
<td align="left">9</td>
<td align="left">SATOSHI KOJIMA</td>
<td align="left">9</td>
<td align="left">1</td>
<td align="left">8</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">0.0</td>
<td align="left">3.305556</td>
</tr>
</tbody>
</table>

<p>Data tables are fine, but a visual representation is always better. Let&rsquo;s have a look at the block results in graph form, using the Seaborn package</p>

<pre><code class="language-python">
ax= sns.barplot(y='Wrestler', x='Points', data=A_Block, color= 'Red')
ax.set_xlim(0,18)
sns.despine()
ax.set_ylabel('')
ax.set_xlabel('points')
ax.set_title('A Block')
plt.show()
ax= sns.barplot(y='Wrestler', x='Points', data=B_Block,  color= 'Blue')
ax.set_xlim(0,18)
sns.despine()
ax.set_ylabel('') 
ax.set_xlabel('points')
ax.set_title('B Block')
plt.show()
</code></pre>

<p><img src="/img/chart_1.png" alt="png" /></p>

<p><img src="/img/output_40_1.png" alt="png" /></p>

<p>The winner of the A Block was Kenny Omega and the B Block was Tetsuya Naito who are two of the biggest wrestlers there so not a surprise <em>(Yes I know wrestling is fake as my wife keeps saying)</em></p>

<p>Ok who was the highest rated star of the tournament</p>

<pre><code class="language-python">Combined = pd.concat([A_Block, B_Block])
Combined['Block'] = np.NAN
Combined.iloc[0:10,8] =&quot;A Block&quot;
Combined.iloc[10:20,8] =&quot;B Block&quot;
Combined = Combined.sort_values(['DMR'],ascending=False).reset_index(drop=True)
ax = sns.barplot(y='Wrestler', x='DMR',data=Combined, color = 'Gold')
sns.despine()
ax.set_xlabel('Average Dave Meltzer Rating')
plt.show()
</code></pre>

<p><img src="/img/output_43_0.png" alt="png" /></p>

<p>Ok so the top two wrestlers were Tomohiro Ishii and Kazuchika Okada. I wasn&rsquo;t surprised with Okada who&rsquo;s doing amazing this year but Ishii was a surprise. Yano had the worst overall rating which kind of makes sense as he&rsquo;s more of a comedy act and not a competitive wrestler.</p>

<p>One of the potential questions I had was if a good Meltzer rating related to the match length. Let&rsquo;s plot these two against each other.</p>

<pre><code class="language-python">C_matches = pd.concat([A_matches, B_matches])
C_matches['Match_Time'] = C_matches['Match_Time'].str.split(':').apply(lambda x: int(x[0]) * 60 + int(x[1]))
ax = sns.regplot(y='DMR', x='Match_Time',data=C_matches)
plt.show()
</code></pre>

<p><img src="/img/output_46_0.png" alt="png" /></p>

<p>OK so some correlation between the two which makes some sense. Obviously this doesn&rsquo;t account for who&rsquo;s in the match and what actually happened in it. Let&rsquo;s see what our equation would look like</p>

<pre><code class="language-python">
lm = LinearRegression()
X = C_matches['Match_Time'].values[:,np.newaxis]
y = C_matches['DMR'].values
lm.fit(X,y)
m = lm.coef_[0]
b = lm.intercept_
print(&quot;Our Linear equation is &quot; + 'y = {0} * x + {1}'.format(m, b))
</code></pre>

<pre><code>Our Linear equation is y = 0.002155728983767316 * x + 1.8171627906221903
</code></pre>

<p>Let&rsquo;s see what the mean squared error is and variance score. These calculations tell us how well our model fits the data.</p>

<pre><code class="language-python">print(&quot;Mean squared error: %.2f&quot; % np.mean((lm.predict(X) - y) ** 2))
# Explained variance score: 1 is perfect prediction
print('Variance score: %.2f' % lm.score(X, y))
</code></pre>

<pre><code>Mean squared error: 0.36
Variance score: 0.58
</code></pre>

<p>Ok so in our model, 58% of the variability in Match ratings can be explained using match time. We also got a really low mean squared error which means the model is a really good fit.</p>

<p><strong>But like I said this doesn&rsquo;t account for the context of the matches despite the good fit.</strong></p>

<p>Hopefully this wasn&rsquo;t too complicated but I wanted to do analysis on some data that I was interested in. I&rsquo;ll most likely add to this post in the future as I learn more modelling tools that account for more of the variables present.</p>

<p>Thanks for reading this post if you did! Any feedback or tips as always would be greatly appreciated.</p>

<p>Shan</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/data-science" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">data science</a>
   </li>
  
   <li class="list">
     <a href="/tags/python" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">python</a>
   </li>
  
</ul>
<div class="mt6">
      
      
      </div>
    </section>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/post/pip-install-guide-mini-post/">Pip install guide[Mini-Post]</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/sql-part-1-of-4/">SQL part 1 of 4</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/first-post/">First post!</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="/" >
    &copy; 2019 Shan Islam
  </a>
    <div>



<a href="https://twitter.com/_ShanIslam" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/shahnurislam" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>





</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
